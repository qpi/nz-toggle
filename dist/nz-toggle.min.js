!function(){var e=angular.module("nzToggle",[]);e.directive("nzToggle",["$timeout",function(e){return $timeout=e,{restrict:"E",replace:!0,scope:{config:"=?",ngModel:"=",onToggle:"&",ngDisabled:"="},template:['<div class="nz-toggle-wrap" ng-class="getStyle()" ng-style="wrapStyle">','   <div class="nz-toggle">','       <div class="nz-toggle-handle"></div>',"   </div>",'   <div class="nz-toggle-tooltip" ng-show="tooltip">',"       <span ng-class=\"{'active': showTooltip1}\">",'           <span ng-show="tipFalse"></span>{{tipFalse}}',"       </span>",'       <br ng-show="vertical">','       <span ng-class="{\'active\': showTooltip2}" ng-show="triToggle">','           <span ng-show="tipNull"></span>{{tipNull}}',"       </span>",'       <br ng-show="vertical">',"       <span ng-class=\"{'active': showTooltip3}\">",'           <span ng-show="tipTrue"></span>{{tipTrue}}',"       </span>","   </div>","</div>"].join(""),link:function(e,t,o){function l(){s(),F(N.ngModel)||(F(N.valDefault)?N.ngModel=N.valDefault:N.triToggle?N.ngModel=N.valNull:N.ngModel=N.valFalse);var e=!0;N.$watch("ngModel",function(){if(g(),e)return void(e=!1);if(N.onToggle.call){var t=N.onToggle();t&&t.call&&t(N.ngModel)}},!0),c(t[0],"mousedown touchstart",i),c(t[0],"click",a),N.$on("$destroy",function(){v(t[0],"mousedown touchstart",i),v(window,"mousemove touchmove",n),v(window,"mouseup touchend",r),v(t[0],"click",a)})}function a(e){1>f&&d()}function i(e){return N.ngDisabled?void 0:(e=e?e:window.event,p={x:e.pageX||e.touches[0].pageX,y:e.pageY||e.touches[0].pageY},f=0,m.css("transition","0s"),c(window,"mousemove touchmove",n),c(window,"mouseup touchend",r),e.stopPropagation(),e.returnValue=!1,!1)}function n(e){e=e?e:window.event;var o=(e.pageY||e.touches[0].pageY)-p.y,l=(e.pageX||e.touches[0].pageX)-p.x,a=t[0].offsetHeight,i=t[0].offsetWidth,n=o/(a/2)*100,r=l/(i/2)*100;return N.vertical?(h=parseFloat(M.vertical[N.state]),w=Math.max(Math.min(parseFloat(n+h),100),0),T=h+(w-h)/2,m.css("top",T+"%")):(h=parseFloat(M.horizontal[N.state]),w=Math.max(Math.min(parseFloat(r+h),100),0),T=h+(w-h)/2,m.css("left",T+"%")),f=Math.max(f,Math.max(Math.abs(o),Math.abs(l))),e.stopPropagation(),e.returnValue=!1,!1}function r(e){return e=e?e:window.event,p=!1,N.$apply(function(){return 1>f&&"mouseup"==e.type?void 0:1>f&&"touchend"==e.type?void d():N.triToggle?N.vertical?w>73?void d("false"):w>27?void d("null"):void d("true"):27>w?void d("false"):73>w?void d("null"):void d("true"):N.vertical?w>50?void d("false"):void d("true"):50>w?void d("false"):void d("true")}),m.css({top:"",left:"",transition:""}),v(window,"mousemove touchmove",n),v(window,"mouseup touchend",r),e.stopPropagation(),e.returnValue=!1,!1}function s(){if(angular.extend(N,y,N.config||{}),F(o.triToggle)&&(N.triToggle=!0),angular.forEach(["valDefault","valTrue","valFalse","valNull","width","height","colorFalse","colorNull","colorTrue","tipTrue","tipFalse","tipNull"],function(e){F(o[e])&&(N[e]=N.$eval(o[e]))}),(N.tipTrue||o.tipFalse||o.tipNull)&&(N.tooltip=!0),F(o.vertical)){N.vertical=!0;var e;N.tooltip&&(e=N.tipTrue,N.tipTrue=N.tipFalse,N.tipFalse=e),N.$eval(o.width)||N.$eval(o.width)||N.config&&(N.config.width||N.config.height)||(e=N.width,N.width=N.height,N.height=e)}N.wrapStyle={width:N.width+"px",height:N.height+"px"},F(N.outerRadius)||(N.outerRadius=Math.min(N.width,N.height)/2),N.innerRadius=N.outerRadius-N.padding}function u(){return[N.vertical?"vertical":"horizontal",N.state]}function g(){return N.showTooltip1=!1,N.showTooltip2=!1,N.showTooltip3=!1,angular.equals(N.ngModel,N.valTrue)?(N.wrapStyle.backgroundColor=N.colorTrue,N.state="true",void(N.vertical?N.showTooltip1=!0:N.showTooltip3=!0)):angular.equals(N.ngModel,N.valFalse)?(N.state="false",N.wrapStyle.backgroundColor=N.colorFalse,void(N.vertical?N.showTooltip3=!0:N.showTooltip1=!0)):(N.state="null",N.wrapStyle.backgroundColor=N.colorNull,void(N.showTooltip2=!0))}function d(e){N.ngDisabled||$timeout(function(){if(e){if(N.state=e,"false"===e)return void(N.ngModel=N.valFalse);if("null"===e)return void(N.ngModel=N.valNull);N.ngModel=N.valTrue}else{if("false"==N.state)return void(N.ngModel=N.triToggle?N.valNull:N.valTrue);if("null"==N.state)return void(N.ngModel=N.valTrue);N.ngModel=N.valFalse}})}function c(e,t,o){for(var l=t.split(" "),a=0,i=l.length;i>a;a++)e.addEventListener(l[a],o,!1)}function v(e,t,o){for(var l=t.split(" "),a=0,i=l.length;i>a;a++)e.removeEventListener(l[a],o,!1)}var p,h,w,f,T,m=angular.element(t[0].querySelector(".nz-toggle-handle")),M={horizontal:{"false":0,"null":50,"true":100},vertical:{"false":100,"null":50,"true":0}},F=angular.isDefined,y=(angular.copy,{vertical:!1,valTrue:!0,valFalse:!1,valNull:null,width:50,height:25,padding:3,colorTrue:"#60BD68",colorFalse:"#F15854",colorNull:"#DDD",tooltip:!1}),N=e;angular.extend(N,{getStyle:u,toggle:d}),l()}}}])}();